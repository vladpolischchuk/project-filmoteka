async function e(e){return await fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=cf961b1b89f4c4a28558be2b04fdd59a&page=${e}`).then((e=>{if(!e.ok)throw new Error("Network response was not OK");return e.json()})).then((e=>e.results)).catch((e=>{console.error("There has been a problem with your fetch operation:",e)}))}async function t(){return await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=cf961b1b89f4c4a28558be2b04fdd59a").then((e=>{if(!e.ok)throw new Error("Network response was not OK");return e.json()})).then((e=>e.genres)).catch((e=>{console.error("There has been a problem with your fetch operation:",e)}))}async function n(e){return await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=cf961b1b89f4c4a28558be2b04fdd59a`).then((e=>{if(!e.ok)throw new Error("Network response was not OK");return e.json()})).then((e=>e)).catch((e=>{console.error("There has been a problem with your fetch operation:",e)}))}async function a(e){return await fetch(`https://api.themoviedb.org/3/search/movie?api_key=cf961b1b89f4c4a28558be2b04fdd59a&language=en-US&query=${e}&page=1&include_adult=folse`).then((e=>{if(!e.ok)throw new Error("Network response was not OK");return e.json()})).then((e=>e.results)).catch((e=>{console.error("error:",e)}))}const i={BASE_IMG_URL:"https://image.tmdb.org/t/p/w500",popularMovieList:document.querySelector(".home-film-list")};function s(e,t){if(0!==e.length)return e.map((({id:e,title:n,poster_path:a,release_date:s,genre_ids:r})=>{let l=s.slice(0,4),o=[];for(let e of r){let n=t.find((({id:t})=>t===e));o.push(n.name)}o.length>=3&&(o=[o[0],o[1],"Other"]);let c=o.join(", ");return null!==a?`\n                <li class="film-list__item item" data-id="${e}  data-target="card">\n                    <img class="film-link__img" src="${i.BASE_IMG_URL}${a}" alt="${n}" data-target="card"">\n                    <div class="wrapper">\n                        <h3 class="film-link__title data-target="card"" >${n}</h3>\n                        <div class="film-link__grup">\n                            <p class="film-genres" data-target="card">${c}</p>\n                            <p class="film-year" data-target="card"><span class="film-line">|</span>${l}</p>\n                        </div>\n                    </div>\n                </li>`:`\n                <li class="film-list__item item" data-id="${e}  data-target="card">\n                <img class="film-link__img" src="" alt="${n}" data-target="card"">\n                    <div class="wrapper">\n                        <h3 class="film-link__title data-target="card"" >${n}</h3>\n                        <div class="film-link__grup">\n                            <p class="film-genres" data-target="card">${c}</p>\n                            <p class="film-year" data-target="card"><span class="film-line">|</span>${l}</p>\n                        </div>\n                    </div>\n                </li>`})).join("")}t().then((t=>{e(1).then((e=>{let n=s(e,t);i.popularMovieList.insertAdjacentHTML("beforeend",n)}))}));const r=document.querySelector(".home-film-list"),l=document.querySelector(".wrapper-modal"),o=document.querySelector(".backdrop"),c=document.querySelector(".close-btn");function d({id:e,genres:t,original_title:n,overview:a,popularity:s,poster_path:r,title:d,vote_average:f,vote_count:m}){const h=String(f).slice(0,3),u=s.toFixed(1),_=t.map((e=>e.name)),g=`\n        <div class="film-modal__poster">\n            <img class='film-modal__img' width="375" height="478" src="${i.BASE_IMG_URL}${r}"\n                alt="${d}" />\n        </div>\n        \n        <div class="film-modal__details-info details-info">\n            \x3c!-- Title --\x3e\n            <h2 class="details-info__title">${d}</h2>\n        \n            <ul class="details-info__list-static list-static list">\n        \n                <li class="list-static__item">\n                    <p class="info-film-txt">Vote / Votes</p>\n                    <p class="item-vote-rez">\n                        <span class="tem-vote-rez--accent-mode">${h}</span>\n                        ${m}\n                    </p>\n                </li>\n        \n                <li class="list-static__item">\n                    <p class="info-film-txt">Popularity</p>\n                    <p class='rez'>${u}</p>\n                </li>\n        \n                <li class="list-static__item">\n                    <p class="info-film-txt">Original Title</p>\n                    <p class="rez">${n}</p>\n                </li>\n        \n                <li class="list-static__item">\n                    <p class="info-film-txt">Genre</p>\n                    <p class='rez'>${_} </p>\n                </li>\n            </ul>\n        \n            <div class="details-info__group">\n                <p class="rez rez-title">about</p>\n                <p class="rez rez-desc">${a}</p>\n            </div>\n        </div>`;l.insertAdjacentHTML("afterBegin",g),o.classList.remove("is-hidden"),c.addEventListener("click",p)}function p(){o.classList.add("is-hidden")}r.addEventListener("click",(function(e){if("card"===e.target.dataset.target){n(e.target.closest("li").dataset.id).then(d)}}));document.querySelector(".form-search").addEventListener("submit",(async function(e){e.preventDefault();const n=e.target.elements.searchQuery.value.trim();await t().then((e=>{a(n).then((t=>{let n=s(t,e);i.popularMovieList.innerHTML="",i.popularMovieList.insertAdjacentHTML("beforeend",n)}))}))}));
//# sourceMappingURL=index.e5562284.js.map
