!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var s={id:e,exports:{}};return t[e]=s,n.call(s.exports,s,s.exports),s.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequired7c6=n);var s=n("4Nugj"),i=n("3DIF4"),c=n("jUuu7"),l=s.refs.BASE_IMG_URL,r=s.refs.libraryMovieList,o=s.refs.btnWrapper,d=s.refs.btnWatched,f=s.refs.btnQueue,g=JSON.parse(localStorage.getItem("watchedMovies"))||[],p=JSON.parse(localStorage.getItem("queueMovies"))||[];function u(e){var t=e.id,a=e.title,n=e.poster_path,s=e.release_date,i=e.genres,c=s.slice(0,4),r=i.map((function(e){return e.name}));r.length>=3&&(r=[r[0],r[1],"Other"]);var o=r.join(", ");return null!==n?'\n            <li class="film-list__item item" data-id="'.concat(t,'  data-target="card">\n                <img class="film-link__img" src="').concat(l).concat(n,'" alt="').concat(a,'" data-target="card"">\n                <div class="wrapper">\n                    <h3 class="film-link__title data-target="card"" >').concat(a,'</h3>\n                    <div class="film-link__grup">\n                        <p class="film-genres" data-target="card">').concat(o,'</p>\n                        <p class="film-year" data-target="card"><span class="film-line">|</span>').concat(c,"</p>\n                    </div>\n                </div>\n            </li>"):'\n            <li class="film-list__item item" data-id="'.concat(t,'  data-target="card">\n                <img class="film-link__img" src="https://images.unsplash.com/photo-1512113569142-8a60fccc7caa" alt="').concat(a,'" data-target="card"">\n                <div class="wrapper">\n                    <h3 class="film-link__title data-target="card"" >').concat(a,'</h3>\n                    <div class="film-link__grup">\n                        <p class="film-genres" data-target="card">').concat(o,'</p>\n                        <p class="film-year" data-target="card"><span class="film-line">|</span>').concat(c,"</p>\n                    </div>\n                </div>\n            </li>")}function m(e){for(var t=0;t<e.length;t++)(0,i.fetchMovieInfoAPI)(e[t]).then((function(e){var t=u(e);r.insertAdjacentHTML("beforeend",t)}))}if(null!=g&&0!==g.length||null!=p&&0!==p.length)(p.length>0||g>0)&&(m(p),m(g));else{r.insertAdjacentHTML("beforeend",'<h2 class="message-text">Ooops! You library is empty yet :(</h2>\n    <img class="message-img" src=\'https://o.remove.bg/downloads/dc6a848e-b90f-4d1b-9ad7-47629b0398c6/ooops-removebg-preview.png\' >')}o.addEventListener("click",(function(e){e.target.closest("button").classList.contains("btn_watched")&&!e.target.closest("button").classList.contains("active")?(d.classList.add("active"),f.classList.remove("active"),r.innerHTML="",m(g)):e.target.closest("button").classList.contains("btn_queue")&&(f.classList.add("active"),d.classList.remove("active"),r.innerHTML="",m(p))})),r.addEventListener("click",c.default),n("jUuu7")}();
//# sourceMappingURL=library.fd84dc36.js.map
