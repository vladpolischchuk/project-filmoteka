{"mappings":"AAAO,MAAMA,EAAO,CAElBC,iBAAkBC,SAASC,cAAc,mBAGzCC,aAAcF,SAASC,cAAc,kBACrCE,UAAWH,SAASC,cAAc,kBAClCG,SAAUJ,SAASC,cAAc,aACjCI,SAAUL,SAASC,cAAc,eCGnCK,eAAeC,IACb,aAAaC,MAAM,mGAChBC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,+BAElB,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,GACGA,EAAKC,UAEbC,OAAMC,IACLC,QAAQD,MACN,sDACAA,EACD,G,EAKPX,iBACE,aAAaE,MAAM,0FAChBC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,+BAElB,OAAOF,EAASG,MAAM,IAEvBJ,MAAKK,GACGA,EAAKK,SAEbH,OAAMC,IACLC,QAAQD,MACN,sDACAA,EACD,G,ECXP,GAAsBR,MAAKU,IACvBZ,IAAuBE,MAAKK,IACxB,IAAIM,EA/BZ,SAA+BN,EAAMO,GACjC,GAAoB,IAAhBP,EAAKQ,OAGT,OAAOR,EACFS,KAAI,EAAGC,GAAAC,EAAEC,MAAEA,EAAKC,YAAEA,EAAWC,aAAEA,EAAYC,UAAEA,MAC1C,IAAIC,EAAUF,EAAaG,MAAM,EAAG,GAChCZ,EAAS,GACb,IAAK,IAAIa,KAAYH,EAAW,CAC5B,IAAII,EAAQZ,EAAaa,MAAK,EAACV,GAAEA,KAASA,IAAOQ,IACjDb,EAAOgB,KAAKF,EAAMG,K,CAMtB,OAJIjB,EAAOG,QAAU,IACjBH,EAAS,CAACA,EAAO,GAAIA,EAAO,GAAI,UAG7B,2DACqCM,sGACwBE,WAAqBD,gGAElDA,6GALtBP,EAAOkB,KAAK,2FAQsCP,8EAG7D,IAAIO,KAAK,G,CAKNC,CAAsBxB,EAAMK,GACzCrB,EAAKC,iBAAiBwC,mBAAmB,YAAanB,EAAO,GAC/D","sources":["src/js/refs.js","src/js/API/fetch-film-api.js","src/js/films-render.js"],"sourcesContent":["export const refs = {\n  // list film\n  popularMovieList: document.querySelector('.home-film-list'),\n\n  // MODAL \n  listOfMovies: document.querySelector('home-film-list'),\n  bodyModal: document.querySelector('.wrapper-modal'),\n  backDrop: document.querySelector('.backdrop'),\n  closeBtn: document.querySelector('.close-btn'),\n};","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'cf961b1b89f4c4a28558be2b04fdd59a';\nconst page = 1;\n\nexport {\n  fetchPopularFilmsAPI,\n  fetchGenresFilmsAPI,\n  fetchMovieInfoAPI,\n};\n\n// fetch information about popular movies\nasync function fetchPopularFilmsAPI() {\n  return await fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not OK');\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data.results;\n    })\n    .catch(error => {\n      console.error(\n        'There has been a problem with your fetch operation:',\n        error\n      );\n    });\n};\n\n// fetch id and names ganre for movies\nasync function fetchGenresFilmsAPI() {\n  return await fetch(`${BASE_URL}/genre/movie/list?api_key=${API_KEY}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not OK');\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data.genres;\n    })\n    .catch(error => {\n      console.error(\n        'There has been a problem with your fetch operation:',\n        error\n      );\n    });\n};\n\n// fetch for all information for movie\nasync function fetchMovieInfoAPI(movie_id) {\n  return await fetch(`${BASE_URL}/movie/${movie_id}?api_key=${API_KEY}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not OK');\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data;\n    })\n    .catch(error => {\n      console.error(\n        'There has been a problem with your fetch operation:',\n        error\n      );\n    });\n};\n","import { fetchPopularFilmsAPI, fetchGenresFilmsAPI } from './API/fetch-film-api';\nimport { refs } from './refs';\n\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\n// function for render film list markup \nfunction createFilmListFMarkup(data, genres_names) {\n    if (data.length === 0) {\n        return;\n    }\n    return data\n        .map(({ id, title, poster_path, release_date, genre_ids }) => {\n            let release = release_date.slice(0, 4);\n            let genres = [];\n            for (let genre_id of genre_ids) {\n                let genre = genres_names.find(({ id }) => id === genre_id);\n                genres.push(genre.name);\n            };\n            if (genres.length >= 3) {\n                genres = [genres[0], genres[1], 'Other'];\n            };\n            let genres_str = genres.join(', ');\n            return `\n            <li class=\"film-list__item item\" data-id=\"${id}\">\n                <img class=\"film-link__img\" width=\"500px\" src=\"${BASE_IMG_URL}${poster_path}\" alt=\"${title}\">\n                <div class=\"wrapper\">\n                    <h3 class=\"film-link__title\">${title}</h3>\n                    <div class=\"film-link__grup\">\n                        <p class=\"film-genres\">${genres_str}</p>\n                        <p class=\"film-year\"><span class=\"film-line\">|</span>${release}</p>\n                    </div>\n                </div>\n            </li>`;}).join('');\n};\n\nfetchGenresFilmsAPI().then(genres => {\n    fetchPopularFilmsAPI().then(data => {\n        let markup = createFilmListFMarkup(data, genres);\n        refs.popularMovieList.insertAdjacentHTML('beforeend', markup);\n    });\n});"],"names":["$ee27a4d7c64fc8c4$export$21666b427502ea6d","popularMovieList","document","querySelector","listOfMovies","bodyModal","backDrop","closeBtn","async","$69f33d7e8356cda7$export$acdc96c760d6ecbe","fetch","then","response","ok","Error","json","data","results","catch","error","console","genres","markup","genres_names","length","map","id","id1","title","poster_path","release_date","genre_ids","release","slice","genre_id","genre","find","push","name","join","$667dedb86a4f7555$var$createFilmListFMarkup","insertAdjacentHTML"],"version":3,"file":"index.67d7bdb8.js.map"}